const Discord = require('discord.js');
const client = new Discord.Client();
var prefix = '-'
client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
});

client.on('message', message => { // Toxic Codes 
   if(!message.channel.guild) return;
if(message.content.startsWith(prefix + 'bc')) {
if(!message.channel.guild) return message.channel.send('**Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ÙÙ‚Ø· Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª**').then(m => m.delete(5000));
if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply(' **ADMINISTRATORÙ„Ø§ ÙŠÙˆØ¬Ø¯ ØµÙ„Ø§Ø­ÙŠÙ‡ **');
const args = message.content.split(" ").slice(1).join(" ")
const BcList = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.setAuthor(`Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ : ${args}`)
.setDescription(`**Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª Ø¨Ù€ Ø§Ù…Ø¨Ø¯ ðŸ“\nØ¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª Ø¨Ø¯ÙˆÙ† Ø§Ù…Ø¨Ø¯âœ \nÙ„Ø¯ÙŠÙƒ Ø¯Ù‚ÙŠÙ‚Ù‡ Ù„Ù„Ø£Ø®ØªÙŠØ§Ø± Ù‚Ø¨Ù„ Ø§Ù„ØºØ§Ø¡ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª\nÙ„ÙƒØªØ§Ø¨Ù‡ Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§ÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ :[server]\nÙ„ÙƒØªØ§Ø¨Ù‡ Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„  Ø§ÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ :[by]\nÙ„ÙƒÙŠ ÙŠÙ‚ÙˆÙ…  Ø§Ù„Ø¨ÙˆØª Ø¨Ù…Ù†Ø´Ù† Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§ÙƒØªØ¨ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ :[user]**`)
if (!args) return message.reply('**ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© ÙƒÙ„Ù…Ø© Ø§Ùˆ Ø¬Ù…Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª**');message.channel.send(BcList).then(msg => {
msg.react('ðŸ“')
.then(() => msg.react('âœ'))
.then(() =>msg.react('ðŸ“'))
 
var EmbedBcFilter = (reaction, user) => reaction.emoji.name === 'ðŸ“' && user.id === message.author.id;
var NormalBcFilter = (reaction, user) => reaction.emoji.name === 'âœ' && user.id === message.author.id;
 
var EmbedBc = msg.createReactionCollector(EmbedBcFilter, { time: 60000 });
var NormalBc = msg.createReactionCollector(NormalBcFilter, { time: 60000 });
 
 
EmbedBc.on("collect", r => {
 
message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'all').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`).then(m => m.delete(5000));
message.guild.members.forEach(m => {
var EmbedRep = args.replace('[server]' ,message.guild.name).replace('[user]', m).replace('[by]', `${message.author.username}#${message.author.discriminator}`)
var bc = new
Discord.RichEmbed()
.setColor('RANDOM')
.setDescription(EmbedRep)
.setThumbnail(message.author.avatarURL)
m.send({ embed: bc })
msg.delete();
})
})
NormalBc.on("collect", r => {
  message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'all').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`).then(m => m.delete(5000));
message.guild.members.forEach(m => {
var NormalRep = args.replace('[server]' ,message.guild.name).replace('[user]', m).replace('[by]', `${message.author.username}#${message.author.discriminator}`)
m.send(NormalRep);
msg.delete();
})
})
})
}
});

client.login(process.env.BOT_TOKEN);
